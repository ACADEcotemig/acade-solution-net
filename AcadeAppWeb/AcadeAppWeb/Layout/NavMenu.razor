@using Microsoft.AspNetCore.Components.Authorization

<nav class="navbar">
    <button class="botao-link" @onclick="OnToggleThemeClick">
        @(IsLight ? "☀️" : "🌙")
    </button>
    <NavLink href="/" Match="NavLinkMatch.All">Início</NavLink>
    <NavLink href="/agendar">Agendar</NavLink>
    <NavLink href="/login">Login</NavLink>
    <NavLink href="/cadastro">Cadastro</NavLink>
    <NavLink href="/educacao">Dicas</NavLink>
    <NavLink href="/profile" class="ml-auto">Perfil</NavLink>


    <div class="user-email" style="padding-left:30px">
        <AuthorizeView>
            <Authorized>
                <span>@context.User.FindFirst("email")?.Value</span>
            </Authorized>
            <NotAuthorized>
                <span></span>
            </NotAuthorized>
        </AuthorizeView>
    </div>

</nav>

@code {
    [Parameter] public bool IsLight { get; set; }
    [Parameter] public EventCallback OnToggleTheme { get; set; }

    private async Task OnToggleThemeClick()
    {
        if (OnToggleTheme.HasDelegate)
            await OnToggleTheme.InvokeAsync();
    }
}

